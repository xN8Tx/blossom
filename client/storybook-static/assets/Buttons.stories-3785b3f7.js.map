{"version":3,"file":"Buttons.stories-3785b3f7.js","sources":["../../src/modules/contact/store/contacts/contactSelector.ts","../../src/modules/chat/store/selectors/selectByCompanionId.ts","../../src/modules/profile/components/buttons/button/Button.tsx","../../src/assets/svg/MessagesIcon.tsx","../../src/assets/svg/ContactIcon.tsx","../../src/modules/profile/components/buttons/Buttons.tsx"],"sourcesContent":["import type { RootState } from '@/store';\n\nconst selectById = (state: RootState, id: number) => {\n  const contact = state.contacts.data?.find(\n    (contact) => Number(contact.contactId) == Number(id)\n  );\n\n  if (contact) return contact;\n  return null;\n};\n\nexport { selectById };\n","import type { RootState } from '@/store';\n\nconst selectByCompanionId = (state: RootState, userId: string) => {\n  const chat = state.chat.data?.find(\n    (chat) => Number(chat.user.id) === Number(userId)\n  );\n\n  if (chat) return chat;\n  return null;\n};\n\nexport default selectByCompanionId;\n","import type React from 'react';\n\nimport style from './Button.module.scss';\nimport Paragraph from '../../../../../ui/paragraphs/Paragraph';\n\ntype ButtonProps = {\n  onClick: () => void;\n  children: React.ReactNode;\n  image: () => JSX.Element;\n};\n\nexport default function Button({ onClick, children, image }: ButtonProps) {\n  return (\n    <button className={style.wrapper} onClick={onClick}>\n      {image()}\n      <Paragraph size='m' color='user'>\n        {children}\n      </Paragraph>\n    </button>\n  );\n}\n","export default function MessagesIcon() {\n  return (\n    <svg\n      width='30'\n      height='30'\n      viewBox='0 0 30 30'\n      fill='none'\n      xmlns='http://www.w3.org/2000/svg'\n    >\n      <path\n        fillRule='evenodd'\n        clipRule='evenodd'\n        d='M3.92293 10.9942C3.75 11.8636 3.75 12.9091 3.75 15C3.75 17.0909 3.75 18.1364 3.92293 19.0058C4.63309 22.576 7.42397 25.3669 10.9942 26.0771C11.8636 26.25 12.9091 26.25 15 26.25H20.625C23.0906 26.25 24.3234 26.25 25.1532 25.569C25.3051 25.4444 25.4444 25.3051 25.569 25.1532C26.25 24.3234 26.25 23.0906 26.25 20.625V15C26.25 12.9091 26.25 11.8636 26.0771 10.9942C25.3669 7.42397 22.576 4.63309 19.0058 3.92293C18.1364 3.75 17.0909 3.75 15 3.75C12.9091 3.75 11.8636 3.75 10.9942 3.92293C7.42397 4.63309 4.63309 7.42397 3.92293 10.9942ZM10.25 13.75C10.25 13.1977 10.6977 12.75 11.25 12.75H18.75C19.3023 12.75 19.75 13.1977 19.75 13.75C19.75 14.3023 19.3023 14.75 18.75 14.75H11.25C10.6977 14.75 10.25 14.3023 10.25 13.75ZM14 18.75C14 18.1977 14.4477 17.75 15 17.75H18.75C19.3023 17.75 19.75 18.1977 19.75 18.75C19.75 19.3023 19.3023 19.75 18.75 19.75H15C14.4477 19.75 14 19.3023 14 18.75Z'\n      />\n    </svg>\n  );\n}\n","export default function ContactIcon() {\n  return (\n    <svg\n      width='30'\n      height='30'\n      viewBox='0 0 30 30'\n      fill='none'\n      xmlns='http://www.w3.org/2000/svg'\n    >\n      <circle cx='15' cy='10' r='5' />\n      <path d='M6.97351 20.5296C7.7979 17.7797 10.5217 16.25 13.3926 16.25H16.6074C19.4783 16.25 22.2021 17.7797 23.0265 20.5296C23.3465 21.5971 23.6102 22.786 23.7086 24.001C23.7532 24.5514 23.3023 25 22.75 25H7.25C6.69772 25 6.24682 24.5514 6.2914 24.001C6.38979 22.786 6.65348 21.5971 6.97351 20.5296Z' />\n    </svg>\n  );\n}\n","import { useNavigate, useParams } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\n\nimport { useAppDispatch, useAppSelector } from '@/store';\nimport { selectById } from '@contact/store/contacts/contactSelector';\nimport selectByCompanionId from '@chat/store/selectors/selectByCompanionId';\nimport { createChat } from '@chat/store/chatThunk';\nimport {\n  deleteContact,\n  postContact,\n} from '@contact/store/contacts/contactThunk';\n\nimport Button from './button/Button';\n\nimport MessagesIcon from '@/assets/svg/MessagesIcon';\nimport ContactIcon from '@/assets/svg/ContactIcon';\n\nimport type { Contact } from '@/models/data';\n\nimport style from './Buttons.module.scss';\n\nexport default function Buttons() {\n  const dispatch = useAppDispatch();\n  const navigate = useNavigate();\n  const { t } = useTranslation();\n\n  const { id } = useParams();\n\n  const contact: Contact | null = useAppSelector((state) =>\n    selectById(state, Number(id))\n  );\n  const chat = useAppSelector((state) => selectByCompanionId(state, id!));\n\n  const isContact = contact !== null;\n  const contactId = contact?.contactId;\n\n  const onMessageClick = async () => {\n    if (chat !== null) {\n      navigate('/chat/' + chat!.id);\n    } else {\n      await dispatch(createChat(id!));\n      navigate('/chat/');\n    }\n  };\n\n  const onAddClick = () => {\n    dispatch(postContact(Number(id)));\n  };\n  const onDeleteClick = () => {\n    if (contactId) dispatch(deleteContact(contactId));\n  };\n\n  const messageIcon = () => <MessagesIcon />;\n  const contactIcon = () => <ContactIcon />;\n\n  return (\n    <div className={style.wrapper}>\n      <Button onClick={onMessageClick} image={messageIcon}>\n        {t('contact.message')}\n      </Button>\n      {isContact ? (\n        <Button onClick={onDeleteClick} image={contactIcon}>\n          {t('contact.delete')}\n        </Button>\n      ) : (\n        <Button onClick={onAddClick} image={contactIcon}>\n          {t('contact.add')}\n        </Button>\n      )}\n    </div>\n  );\n}\n"],"names":["selectById","state","id","contact","_a","selectByCompanionId","userId","chat","Button","onClick","children","image","jsxs","style","jsx","Paragraph","MessagesIcon","ContactIcon","Buttons","dispatch","useAppDispatch","navigate","useNavigate","t","useTranslation","useParams","useAppSelector","isContact","contactId","onMessageClick","createChat","onAddClick","postContact","onDeleteClick","deleteContact","messageIcon","contactIcon"],"mappings":"ggBAEA,MAAMA,EAAa,CAACC,EAAkBC,IAAe,OAC7C,MAAAC,GAAUC,EAAAH,EAAM,SAAS,OAAf,YAAAG,EAAqB,KAClCD,GAAY,OAAOA,EAAQ,SAAS,GAAK,OAAOD,CAAE,GAGjD,OAAAC,GACG,IACT,ECPME,EAAsB,CAACJ,EAAkBK,IAAmB,OAC1D,MAAAC,GAAOH,EAAAH,EAAM,KAAK,OAAX,YAAAG,EAAiB,KAC3BG,GAAS,OAAOA,EAAK,KAAK,EAAE,IAAM,OAAOD,CAAM,GAG9C,OAAAC,GACG,IACT,qCCEA,SAAAC,EAAA,CAAA,QAAAC,EAAA,SAAAC,EAAA,MAAAC,CAAA,EAAA,CACE,OAAAC,EAAAA,KAAA,SAAA,CAAA,UAAAC,EAAA,QAAA,QAAAJ,EAAA,SAAA,CAEKE,EAAA,EAAMG,EAAA,IAAAC,EAAA,CAAA,KAAA,IAAA,MAAA,OAAA,SAAAL,EAAA,CAGP,CAAA,CAAA,CAGN,6RCpBA,SAAwBM,GAAe,CAEnC,OAAAF,EAAA,IAAC,MAAA,CACC,MAAM,KACN,OAAO,KACP,QAAQ,YACR,KAAK,OACL,MAAM,6BAEN,SAAAA,EAAA,IAAC,OAAA,CACC,SAAS,UACT,SAAS,UACT,EAAE,u3BAAA,CACJ,CAAA,CAAA,CAGN,CChBA,SAAwBG,GAAc,CAElC,OAAAL,EAAA,KAAC,MAAA,CACC,MAAM,KACN,OAAO,KACP,QAAQ,YACR,KAAK,OACL,MAAM,6BAEN,SAAA,CAAAE,MAAC,UAAO,GAAG,KAAK,GAAG,KAAK,EAAE,IAAI,EAC9BA,EAAAA,IAAC,OAAK,CAAA,EAAE,mSAAoS,CAAA,CAAA,CAAA,CAAA,CAGlT,0CCQA,SAAwBI,GAAU,CAChC,MAAMC,EAAWC,IACXC,EAAWC,IACX,CAAE,EAAAC,GAAMC,IAER,CAAE,GAAAtB,GAAOuB,IAETtB,EAA0BuB,EAAgBzB,GAC9CD,EAAWC,EAAO,OAAOC,CAAE,CAAC,CAAA,EAExBK,EAAOmB,EAAgBzB,GAAUI,EAAoBJ,EAAOC,CAAG,CAAC,EAEhEyB,EAAYxB,IAAY,KACxByB,EAAYzB,GAAA,YAAAA,EAAS,UAErB0B,EAAiB,SAAY,CAC7BtB,IAAS,KACFc,EAAA,SAAWd,EAAM,EAAE,GAEtB,MAAAY,EAASW,EAAW5B,CAAG,CAAC,EAC9BmB,EAAS,QAAQ,EACnB,EAGIU,EAAa,IAAM,CACvBZ,EAASa,EAAY,OAAO9B,CAAE,CAAC,CAAC,CAAA,EAE5B+B,EAAgB,IAAM,CACtBL,GAAoBT,EAAAe,EAAcN,CAAS,CAAC,CAAA,EAG5CO,EAAc,IAAMrB,EAAAA,IAACE,EAAa,CAAA,CAAA,EAClCoB,EAAc,IAAMtB,EAAAA,IAACG,EAAY,CAAA,CAAA,EAEvC,OACGL,EAAAA,KAAA,MAAA,CAAI,UAAWC,EAAM,QACpB,SAAA,CAAAC,EAAAA,IAACN,GAAO,QAASqB,EAAgB,MAAOM,EACrC,SAAAZ,EAAE,iBAAiB,EACtB,EACCI,EACEb,EAAA,IAAAN,EAAA,CAAO,QAASyB,EAAe,MAAOG,EACpC,SAAEb,EAAA,gBAAgB,EACrB,EAEAT,EAAAA,IAACN,GAAO,QAASuB,EAAY,MAAOK,EACjC,SAAAb,EAAE,aAAa,EAClB,CAEJ,CAAA,CAAA,CAEJ;;"}